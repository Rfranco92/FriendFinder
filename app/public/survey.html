<!DOCTYPE html>
<html>
<head>
  <title>Survey</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">


</head>
<body>
  <div class="container">    

        <!-- Reservation Page -->
 
         <div class="jumbotron">
         <h1 class="text-center">Answer the questions to the best of your ability</h1>
         <hr>
        <br>
        </div>

            <div class="row">
            <div class="col-md-12">


            <form role="form" class="text-center">
              <div class="form-group">  
              <input type="text" class="form-control" name="name" placeholder="Put Your Name In This Box">
              <input type="text" class="form-control" name="photo" placeholder="Insert a Link to Your Photo">
              </div>

              <label for="q1">I like to eat a decent amount</label>
              <div class="form-group">
              <input type="radio" name="q1" value=1>1 - Strongly Disagree
              <input type="radio" name="q1" value=2>2
              <input type="radio" name="q1" value=3>3
              <input type="radio" name="q1" value=4>4
              <input type="radio" name="q1" value=5>5 - Strongly Agree
              </div>
                

              <label for="q2">I feel pretty confident about myself</label>  
              <div class="form-group">
                <input type="radio" name="q2" value=1>1 - Strongly Disagree
                <input type="radio" name="q2" value=2>2
                <input type="radio" name="q2" value=3>3
                <input type="radio" name="q2" value=4>4
                <input type="radio" name="q2" value=5>5 - Strongly Agree
                </div>
            
             <label for="q3">I try to treat everybody fairly</label>
              <div class="form-group">   
            <input type="radio" name="q3" value=1>1 - Strongly Disagree
            <input type="radio" name="q3" value=2>2
            <input type="radio" name="q3" value=3>3
            <input type="radio" name="q3" value=4>4
            <input type="radio" name="q3" value=5>5 - Strongly Agree
              </div>
            
             <label for="q4">I have ambitions, goals, dreams</label>
              <div class="form-group">   
             <input type="radio" name="q4" value=1>1 - Strongly Disagree
             <input type="radio" name="q4" value=2>2
             <input type="radio" name="q4" value=3>3
             <input type="radio" name="q4" value=4>4
             <input type="radio" name="q4" value=5>5 - Strongly Agree
              </div>
            
             <label for="q5">I see myself as someone who can be important and influencial</label>
              <div class="form-group">   
             <input type="radio" name="q5" value=1>1 - Strongly Disagree
             <input type="radio" name="q5" value=2>2
             <input type="radio" name="q5" value=3>3
             <input type="radio" name="q5" value=4>4
             <input type="radio" name="q5" value=5>5 - Strongly Agree
              </div>

              
              <label for="q6">I wish to manipulate and trick others</label>
              <div class="form-group">    
              <input type="radio" name="q6" value=1>1 - Strongly Disagree
              <input type="radio" name="q6" value=2>2
              <input type="radio" name="q6" value=3>3
              <input type="radio" name="q6" value=4>4
              <input type="radio" name="q6" value=5>5 - Strongly Agree
              </div>

          <label for="q7">I want vengeance upon others</label>  
            <div class="form-group">    
          <input type="radio" name="q7" value=1>1 - Strongly Disagree
          <input type="radio" name="q7" value=2>2
          <input type="radio" name="q7" value=3>3
          <input type="radio" name="q7" value=4>4
          <input type="radio" name="q7" value=5>5 - Strongly Agree
          </div>

              <label for ="q8">I see myself as a vigilante</label>
              <div class="form-group">   
              <input type="radio" name="q8" value=1>1 - Strongly Disagree
              <input type="radio" name="q8" value=2>2
              <input type="radio" name="q8" value=3>3
              <input type="radio" name="q8" value=4>4
              <input type="radio" name="q8" value=5>5 - Strongly Agree
              </div>
            
            <label for ="q9">I just live to surprise others</label>
              <div class="form-group">
             <input type="radio" name="q9" value=1>1 - Strongly Disagree
            <input type="radio" name="q9" value=2>2
            <input type="radio" name="q9" value=3>3
            <input type="radio" name="q9" value=4>4
            <input type="radio" name="q9" value=5>5 - Strongly Agree
            </div>
            

              <label for = "q10">I just want others to be excellent to each other</label>
              <div class="form-group">   
            <input type="radio" name="q10" value=1>1 - Strongly Disagree
             <input type="radio" name="q10" value=2>2
             <input type="radio" name="q10" value=3>3
            <input type="radio" name="q10" value=4>4
            <input type="radio" name="q10" value=5>5 - Strongly Agreed
             </div>

              <button type="submit" class="btn btn-primary submit">Submit Answers</button>
            </form>

            <div id ="Friendfound" class ="text-center"></div>
          </div>
        </div>

      </div>
    </div>


  
    <footer class="footer">
      <div class="container">
        <p><a href ="/">Go back to the original page</a> | <a href="/api/friends">API for Friends</a> | <a href="https://github.com/Rfranco92/FriendFinder">GitHub Repo</a></p>
      </div>
    </footer>
</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      $(".footer").hide();

      $(".submit").on("click", function(event){
      event.preventDefault();
      var answers ={
        name: $("input[type='text'][name='name']").val().trim(),
        photo: $("input[type='text'][name='photo']").val().trim(),
        scores: [
                    $("input[type='radio'][name='q1']:checked").val(),
                    $("input[type='radio'][name='q2']:checked").val(),
                    $("input[type='radio'][name='q3']:checked").val(),
                    $("input[type='radio'][name='q4']:checked").val(),
                    $("input[type='radio'][name='q5']:checked").val(),
                    $("input[type='radio'][name='q6']:checked").val(),
                    $("input[type='radio'][name='q7']:checked").val(),
                    $("input[type='radio'][name='q8']:checked").val(),
                    $("input[type='radio'][name='q9']:checked").val(),
                    $("input[type='radio'][name='q10']:checked").val()
                            ]
                     }; 

      $.post("/api/friends", answers,
        function(data) {

          console.log(data);

          var newDiv = $("<div>")
          newDiv.append("<p><h2>You are most likely to be friends with: " + data[0].name + "</h2></p>")
           newDiv.append("<p><img src='" + data[0].photo + "'></p>")
          $("#Friendfound").html(newDiv);

          $(".footer").show();
          });

      });
    </script>
</body>
</html>